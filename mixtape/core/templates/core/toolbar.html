<div class="navbar bg-base-100 shadow-md" data-ga-id="main-toolbar">
  <div class="navbar-start">
    <a href="{% url 'home' %}" class="btn btn-icon btn-ghost" data-ga-id="home-button" @click="window.GAState?.trackNavigation(window.location.pathname, '{% url 'home' %}', 'link')">
      <span class="text-3xl">MIXTAPE</span>
    </a>
  </div>
  {% if request.path == '/' %}
  <div class="navbar-center">
    <i class="ri-home-2-line mr-2 text-xl"></i>
    Explore Episodes
  </div>
  {% else %}
  <div class="navbar-center">
    Episode Insights
    <i class="ri-bar-chart-line ml-2 text-xl"></i>
  </div>
  {% endif %}
  <div class="navbar-end">
    <div class="dropdown dropdown-end" data-ga-id="visualization-options-dropdown">
      <button class="btn btn-ghost rounded-field" data-ga-id="viz-options-button">
        <i class="ri-bar-chart-box-ai-line font-normal text-xl"></i>
      </button>
      <ul
        class="menu dropdown-content bg-base-200 rounded-box z-1 mt-4 p-2 shadow-sm"
        style="width: max-content;"
      >
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="combatReward"
                @change="window.GAState?.trackVisibilityToggle('combatReward', $event.target.checked)"
              />
              Combat Reward
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="enemyHealth"
                @change="window.GAState?.trackVisibilityToggle('enemyHealth', $event.target.checked)"
              />
              Enemy Health
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="episodeDetails"
                @change="window.GAState?.trackVisibilityToggle('episodeDetails', $event.target.checked)"
              />
              Episode Details
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="episodeImages"
                @change="window.GAState?.trackVisibilityToggle('episodeImages', $event.target.checked)"
              />
              Episode Images
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="friendlyHealth"
                @change="window.GAState?.trackVisibilityToggle('friendlyHealth', $event.target.checked)"
              />
              Friendly Health
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="healthDeathRewards"
                @change="window.GAState?.trackVisibilityToggle('healthDeathRewards', $event.target.checked)"
              />
              Health/Death Rewards
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="navigation"
                @change="window.GAState?.trackVisibilityToggle('navigation', $event.target.checked)"
              />
              Navigation Rewards
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="overallNavVsCombat"
                @change="window.GAState?.trackVisibilityToggle('overallNavVsCombat', $event.target.checked)"
              />
              Overall Nav vs Combat
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="perUnitActions"
                @change="window.GAState?.trackVisibilityToggle('perUnitActions', $event.target.checked)"
              />
              Per Unit Actions
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="playbackControls"
                @change="window.GAState?.trackVisibilityToggle('playbackControls', $event.target.checked)"
              />
              Playback Controls
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="timelines"
                @change="window.GAState?.trackVisibilityToggle('timelines', $event.target.checked)"
              />
              Timelines
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="valueEstimate"
                @change="window.GAState?.trackVisibilityToggle('valueEstimate', $event.target.checked)"
              />
              Value Estimate
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="unitsOverTime"
                @change="window.GAState?.trackVisibilityToggle('unitsOverTime', $event.target.checked)"
              />
              Units Over Time
            </label>
          </div>
        </li>
      </ul>
    </div>
    <div class="dropdown dropdown-end" data-ga-id="display-settings-dropdown">
      <button class="btn btn-ghost rounded-field" data-ga-id="display-settings-button">
        <i class="ri-list-settings-line font-normal text-xl"></i>
      </button>
      <ul
          class="menu dropdown-content bg-base-200 rounded-box z-1 mt-4 p-2 shadow-sm"
          style="width: max-content;"
        >
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="checkbox"
                class="checkbox mr-2"
                x-model="$store.visOptions.visible"
                value="plotLegends"
                @change="window.GAState?.trackVisibilityToggle('plotLegends', $event.target.checked)"
              />
              Show Legends
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="radio"
                class="radio mr-2"
                x-model="$store.visOptions.legendPosition"
                value="horizontal"
                :disabled="!$store.visOptions.visible.includes('plotLegends')"
                @change="window.GAState?.trackLegendSettings('position', 'horizontal')"
              />
              Horizontal Legend
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="radio"
                class="radio mr-2"
                x-model="$store.visOptions.legendPosition"
                value="vertical"
                :disabled="!$store.visOptions.visible.includes('plotLegends')"
                @change="window.GAState?.trackLegendSettings('position', 'vertical')"
              />
              Vertical Legend
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="radio"
                class="radio mr-2"
                x-model="$store.visOptions.legendOverlap"
                value="inside"
                :disabled="!$store.visOptions.visible.includes('plotLegends')"
                @change="window.GAState?.trackLegendSettings('overlap', 'inside')"
              />
              Inside of Plot
            </label>
          </div>
        </li>
        <li>
          <div class="flex items-center">
            <label class="ms-2 text-sm">
              <input
                type="radio"
                class="radio mr-2"
                x-model="$store.visOptions.legendOverlap"
                value="outside"
                :disabled="!$store.visOptions.visible.includes('plotLegends')"
                @change="window.GAState?.trackLegendSettings('overlap', 'outside')"
              />
              Outside of Plot
            </label>
          </div>
        </li>
      </ul>
    </div>
    <label class="toggle text-base-content ml-2" data-ga-id="theme-toggle">
      <input type="checkbox" checked="checked" x-model="$store.theme.darkMode" @change="document.documentElement.setAttribute('data-theme', $store.theme.darkMode ? 'dark' : 'light'); window.GAState?.trackThemeChange($store.theme.darkMode)"/>
      <i class="ri-sun-line flex items-center justify-center text-sm" style="contain: size;"></i>
      <i class="ri-moon-line flex items-center justify-center text-sm" style="contain: size;"></i>
    </label>
    <button class="btn btn-ghost rounded-field text-center" data-ga-id="layout-toggle" @click="$store.theme.denseLayout = !$store.theme.denseLayout; window.GAState?.trackLayoutChange($store.theme.denseLayout)">
      <i x-show="$store.theme.denseLayout" class="ri-layout-grid-fill h-10 w-10 fill-current font-normal text-xl content-center"></i>
      <i x-show="!$store.theme.denseLayout" class="ri-layout-grid-2-fill h-10 w-10 fill-current font-normal text-xl content-center"></i>
    </button>
  </div>
</div>

<div id="replayControls" class="card raised flex justify-center justify-self-stretch flex-row! ml-3 mr-4 items-center">
  <button
    class="btn btn-square btn-neutral btn-sm mx-3"
    @click="currentStep = 0"
  >
    <i class="ri-rewind-start-line"></i>
  </button>
  <button
    class="btn btn-square btn-neutral btn-sm mx-3"
    @click="currentStep--"
  >
    <i class="ri-rewind-line"></i>
  </button>
  <button
    class="btn btn-square btn-neutral mx-3"
    @click="playing = !playing; if (playing) stepForward()"
  >
    <i x-show="!playing" class="ri-play-line"></i>
    <i x-show="playing" class="ri-pause-line"></i>
  </button>
  <button
    class="btn btn-square btn-neutral btn-sm mx-3"
    @click="currentStep++"
  >
    <i class="ri-speed-line"></i>
  </button>
  <button
    class="btn btn-square btn-neutral btn-sm mx-3"
    @click="currentStep = maxSteps"
  >
    <i class="ri-forward-end-line"></i>
  </button>
  <!-- Playback Speed Dropdown -->
  <div class="dropdown dropdown-end mx-2">
    <button
      class="btn btn-sm btn-neutral"
      tabindex="0"
      :title="'Playback Speed (' + playbackSpeed.toFixed(1) + 'x, ' + (fps * playbackSpeed).toFixed(1) + ' steps/s)'"
    >
      <span x-text="playbackSpeed.toFixed(1) + 'x'"></span>
      <i class="ri-arrow-down-s-line"></i>
    </button>
    <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-24">
      <li>
        <a @click="setPlaybackSpeed(1); $event.target.closest('ul')?.blur?.();">1x</a>
      </li>
      <li>
        <a @click="setPlaybackSpeed(1.5); $event.target.closest('ul')?.blur?.();">1.5x</a>
      </li>
      <li>
        <a @click="setPlaybackSpeed(2); $event.target.closest('ul')?.blur?.();">2x</a>
      </li>
      <li>
        <a @click="setPlaybackSpeed(3); $event.target.closest('ul')?.blur?.();">3x</a>
      </li>
      <li>
        <a @click="setPlaybackSpeed(5); $event.target.closest('ul')?.blur?.();">5x</a>
      </li>
    </ul>
  </div>
</div>

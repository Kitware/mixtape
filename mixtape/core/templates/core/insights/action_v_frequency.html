<div x-data="{
    data: [],
    layout: {
      title: {text: 'Actions VS Frequency'},
      autosize: true,
      barmode: Object.keys(actionVFrequency).length > 1 ? 'group' : 'stack',
      showlegend: visOptions.includes('plotLegends'),
      paper_bgcolor: $store.theme.paper_bgcolor,
      plot_bgcolor: $store.theme.plot_bgcolor,
      font: $store.theme.font,
      xaxis: {
        gridcolor: $store.theme.axis.gridcolor,
        zerolinecolor: $store.theme.axis.zerolinecolor
      },
      yaxis: {
        gridcolor: $store.theme.axis.gridcolor,
        zerolinecolor: $store.theme.axis.zerolinecolor
      },
    },
    config: {
      displayModeBar: false,
      responsive: true
    },
    plot: null,
    actionVFrequency: Object.keys(actionVFrequency).length > 1 ? actionVFrequency : Object.values(actionVFrequency)[0]
  }"
  x-init="
    Object.entries(actionVFrequency).forEach(([grouping, values]) => {
      data.push({
        x: Object.keys(values),
        y: Object.values(values),
        type: 'bar',
        name: grouping,
        marker: {
          line: {
            width: 2
          }
        }
      });
    });
    this.plot = Plotly.react($refs.actionsFrequency, data, layout, config);
    $nextTick(() => { Plotly.Plots.resize($refs.actionsFrequency); });
    window.addEventListener('resize', () => { Plotly.Plots.resize($refs.actionsFrequency); });
    $watch('visOptions', () => {
      $nextTick(() => {
        Plotly.relayout(
          $refs.actionsFrequency,
          {
            autosize: true,
            showlegend: visOptions.includes('plotLegends')
          })
      });
    });"
>
  <div x-ref="actionsFrequency" class="w-full"></div>
</div>

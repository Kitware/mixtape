<section x-data="replay" class="flex items-center justify-center w-full gap-2 px-2 py-1 border border-base-300 rounded-lg">
  <button
    class="btn btn-ghost btn-sm"
    :disabled="$store.insights.currentStep === 0"
    @click="$store.insights.currentStep = 0"
    title="Go to first step"
  >
    <i class="ri-rewind-start-line"></i>
  </button>
  <button
    class="btn btn-ghost btn-sm"
    :disabled="$store.insights.currentStep === 0"
    @click="$store.insights.currentStep--"
    title="Previous step"
  >
    <i class="ri-rewind-line"></i>
  </button>
  <button
    class="btn btn-ghost btn-sm"
    @click="playing = !playing; if (playing) stepForward()"
    :title="playing ? 'Pause' : 'Play'"
  >
    <i x-show="!playing" x-cloak class="ri-play-line"></i>
    <i x-show="playing" x-cloak class="ri-pause-line"></i>
  </button>
  <button
    class="btn btn-ghost btn-sm"
    :disabled="$store.insights.currentStep === maxSteps"
    @click="$store.insights.currentStep++"
    title="Next step"
  >
    <i class="ri-speed-line"></i>
  </button>
  <button
    class="btn btn-ghost btn-sm"
    :disabled="$store.insights.currentStep === maxSteps"
    @click="$store.insights.currentStep = maxSteps"
    title="Go to last step"
  >
    <i class="ri-forward-end-line"></i>
  </button>
  <div class="flex items-center gap-1 pl-2">
    <input
      x-cloak
      type="number"
      class="input input-sm validator w-16 text-center"
      min="1"
      :max="maxSteps + 1"
      x-model.number="stepInput"
      @keydown.enter="jumpToStep()"
      @blur="jumpToStep()"
    />
    <span class="text-xs">/ <span x-text="maxSteps + 1"></span></span>
  </div>
</section>
